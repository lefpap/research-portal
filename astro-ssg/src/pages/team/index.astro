---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout.astro";

const authors = await getCollection("authors");
---

<BaseLayout title="Team">
  <div class="container mx-auto mt-24 flex flex-col items-center gap-3">
    <h1 class="text-3xl font-black">Our Team</h1>
    <p class="text-muted-foreground">Meet the team behind Research Portal</p>

    <ul class="mt-5 grid gap-5 sm:grid-cols-2 md:grid-cols-3">
      {
        authors.map((author) => (
          <li>
            <a
              class="flex h-64 flex-col items-center justify-start gap-3 rounded border p-10 hover:bg-foreground/10"
              href={`/team/${author.id}`}
            >
              <Image
                src={
                  typeof author.data.avatar === "string"
                    ? author.data.avatar
                    : author.data.avatar.src
                }
                alt={`${author.data.firstname} ${author.data.lastname}`}
                width={128}
                height={128}
                class="size-24 rounded-full"
              />
              <div class="flex flex-col text-center">
                <h3 class="mb font-bold">{`${author.data.firstname} ${author.data.lastname}`}</h3>
                <p class="text-xs">{author.data.email}</p>
              </div>
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</BaseLayout>
